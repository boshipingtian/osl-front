(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3109],{2375:function(x,f,t){"use strict";t.r(f),t.d(f,{default:function(){return ee}});var i=t(13062),u=t(71230),v=t(12968),E=t(20352),F=t(89032),L=t(15746),S=t(58024),Z=t(91894),_=t(57663),o=t(71577),s=t(39428),a=t(34792),h=t(48086),e=t(11849),r=t(3182),l=t(2824),p=t(67294),C=t(15873),U=t(86353),oe=t(71194),V=t(48889),ue=t(20228),Q=t(11382),ce=t(49111),X=t(19650),fe=t(9715),w=t(55843),ve=t(47673),z=t(29730),n=t(85893),Y=function(g){var B=g.title,D=g.visible,T=g.loading,j=g.footer,O=j===void 0?null:j,I=g.onCancel,P=g.onFinish;return(0,n.jsx)(V.Z,{title:B,visible:D,footer:O,onCancel:I,children:(0,n.jsx)(Q.Z,{spinning:T,children:(0,n.jsxs)(w.Z,{onFinish:P,autoComplete:"off",labelCol:{span:6},wrapperCol:{span:18},children:[(0,n.jsx)(w.Z.Item,{label:"\u8BBE\u5907\u7C7B\u578B",name:"deviceType",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BBE\u5907\u7C7B\u578B"}],children:(0,n.jsx)(z.Z,{})}),(0,n.jsx)(w.Z.Item,{label:"\u8BBE\u5907\u6807\u8BC6\u7B26",name:"deviceIndentification",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BBE\u5907\u6807\u8BC6\u7B26"}],children:(0,n.jsx)(z.Z,{})}),(0,n.jsxs)(X.Z,{children:[(0,n.jsx)(o.Z,{type:"primary",htmlType:"submit",children:"\u63D0\u4EA4"}),(0,n.jsx)(o.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})]})})})},J=Y,k=t(5733),q=function(g){var B,D,T,j,O,I,P,W=g.location,ne=W==null?void 0:W.query,b=ne.id,re=(0,p.useState)(!1),N=(0,l.Z)(re,2),ie=N[0],R=N[1],se=(0,p.useState)(!1),G=(0,l.Z)(se,2),le=G[0],$=G[1];(0,p.useEffect)(function(){},[]);var d=(0,U.QT)({url:"/device/getInfo",method:"POST",data:{companyId:b},requestType:"form"}),H=(0,U.QT)({url:"/device/getList",method:"POST",data:{companyId:b},requestType:"form"}),ae=function(){var c=(0,r.Z)((0,s.Z)().mark(function m(A){var y;return(0,s.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return $(!0),M.next=3,(0,k.S6)((0,e.Z)((0,e.Z)({},A),{},{companyId:b}));case 3:y=M.sent,console.log(y),y.code===200?($(!1),h.default.success(y.msg),R(!1)):(h.default.error(y.msg),$(!1));case 6:case"end":return M.stop()}},m)}));return function(A){return c.apply(this,arguments)}}(),de=function(m,A,y,K){return(0,n.jsx)(L.Z,{span:8,children:(0,n.jsx)(Z.Z,{children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,n.jsx)("span",{children:"\u8BBE\u5907\u7C7B\u578B"}),(0,n.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",marginLeft:"10px"},children:m})]}),(0,n.jsxs)("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center"},children:[(0,n.jsx)("span",{children:"\u8BBE\u5907\u72B6\u6001"}),(0,n.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",marginLeft:"10px",color:"#2ed573"},children:A}),(0,n.jsx)(C.Z,{style:{fontSize:"24px",color:"#2ed573",marginLeft:"10px"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u8BBE\u5907\u8BC6\u522B\u7801"}),(0,n.jsx)("span",{style:{marginLeft:"10px"},children:y})]})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"end"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"sans-serif"},children:"#"+K}),(0,n.jsx)(o.Z,{children:"\u67E5\u770B\u8BE6\u60C5"})]})]})})},K)};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(Z.Z,{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",overflow:"hidden",borderRadius:"10px"},children:(0,n.jsx)(E.Z,{width:40,height:40,preview:!1,src:"https://picsum.photos/200/200"})}),(0,n.jsx)("span",{style:{fontSize:"18px",margin:"0 15px 0 10px",fontWeight:"bold",fontFamily:"sans-serif"},children:d==null||(B=d.data)===null||B===void 0?void 0:B.companyName})]}),(0,n.jsx)(o.Z,{type:"primary",onClick:function(){return R(!0)},children:"\u65B0\u589E\u8BBE\u5907"})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end",marginTop:"20px"},children:[(0,n.jsxs)("div",{style:{fontSize:"14px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u8D1F\u8D23\u4EBA\uFF1A"}),(0,n.jsx)("span",{children:d==null||(D=d.data)===null||D===void 0?void 0:D.holder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u8054\u7CFB\u65B9\u5F0F\uFF1A"}),(0,n.jsx)("span",{children:d==null||(T=d.data)===null||T===void 0?void 0:T.phone})]})]}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"335px"},children:[{title:"\u4F01\u4E1A\u8BBE\u5907\u6570",data:"".concat(d==null||(j=d.data)===null||j===void 0?void 0:j.deviceNumAll,"\u4E2A")},{title:"\u8FD0\u884C\u4E2D",data:"".concat(d==null||(O=d.data)===null||O===void 0?void 0:O.deviceNumRunning,"\u4E2A")},{title:"\u8131\u673A\u4E2D",data:"".concat(d==null||(I=d.data)===null||I===void 0?void 0:I.deviceNumOffLine,"\u4E2A")}].map(function(c,m){return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:"18px",fontWeight:"bold"},children:[(0,n.jsx)("div",{children:c.title}),(0,n.jsx)("div",{children:c.data})]},c.title)})})]})]}),(0,n.jsx)("div",{style:{marginTop:"20px"},children:(0,n.jsx)(u.Z,{gutter:[20,20],children:H==null||(P=H.data)===null||P===void 0?void 0:P.map(function(c,m){return de(c.deviceType,c.deviceState,c.deviceIndentification,m+1)})})}),(0,n.jsx)(J,{title:"\u6DFB\u52A0\u8BBE\u5907",visible:ie,loading:le,onCancel:function(){return R(!1)},onFinish:function(m){return ae(m)},footer:null})]})},ee=q},5733:function(x,f,t){"use strict";t.d(f,{YJ:function(){return E},bF:function(){return L},$q:function(){return S},jO:function(){return Z},S6:function(){return _}});var i=t(39428),u=t(3182),v=t(636),E=function(){var o=(0,u.Z)((0,i.Z)().mark(function s(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.Z)("/user/sale/selectByCondition",{method:"POST",data:a}));case 1:case"end":return e.stop()}},s)}));return function(a){return o.apply(this,arguments)}}(),F=null,L=function(){var o=(0,u.Z)((0,i.Z)().mark(function s(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.Z)("/user/sale/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},s)}));return function(a){return o.apply(this,arguments)}}(),S=function(){var o=(0,u.Z)((0,i.Z)().mark(function s(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.Z)("/user/sale/update",{method:"POST",data:a}));case 1:case"end":return e.stop()}},s)}));return function(a){return o.apply(this,arguments)}}(),Z=function(){var o=(0,u.Z)((0,i.Z)().mark(function s(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.Z)("/user/sale/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},s)}));return function(a){return o.apply(this,arguments)}}(),_=function(){var o=(0,u.Z)((0,i.Z)().mark(function s(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.Z)("/device/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},s)}));return function(a){return o.apply(this,arguments)}}()},15746:function(x,f,t){"use strict";var i=t(21584);f.Z=i.Z},89032:function(x,f,t){"use strict";var i=t(38663),u=t.n(i),v=t(6999)},71230:function(x,f,t){"use strict";var i=t(92820);f.Z=i.Z},13062:function(x,f,t){"use strict";var i=t(38663),u=t.n(i),v=t(6999)},27678:function(x,f,t){"use strict";t.d(f,{g1:function(){return s},os:function(){return h}});var i=/margin|padding|width|height|max|min|offset/,u={left:!0,top:!0},v={cssFloat:1,styleFloat:1,float:1};function E(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function F(e,r,l){if(r=r.toLowerCase(),l==="auto"){if(r==="height")return e.offsetHeight;if(r==="width")return e.offsetWidth}return r in u||(u[r]=i.test(r)),u[r]?parseFloat(l)||0:l}function L(e,r){var l=arguments.length,p=E(e);return r=v[r]?"cssFloat"in e.style?"cssFloat":"styleFloat":r,l===1?p:F(e,r,p[r]||e.style[r])}function S(e,r,l){var p=arguments.length;if(r=v[r]?"cssFloat"in e.style?"cssFloat":"styleFloat":r,p===3)return typeof l=="number"&&i.test(r)&&(l="".concat(l,"px")),e.style[r]=l,l;for(var C in r)r.hasOwnProperty(C)&&S(e,C,r[C]);return E(e)}function Z(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function _(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function o(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:r}}function s(){var e=document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:r}}function a(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function h(e){var r=e.getBoundingClientRect(),l=document.documentElement;return{left:r.left+(window.pageXOffset||l.scrollLeft)-(l.clientLeft||document.body.clientLeft||0),top:r.top+(window.pageYOffset||l.scrollTop)-(l.clientTop||document.body.clientTop||0)}}}}]);
