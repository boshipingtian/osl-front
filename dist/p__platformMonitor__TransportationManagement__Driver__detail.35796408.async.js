(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8386],{20415:function(J,I,r){"use strict";var z=r(2824),K=r(35556),P=r(75899),y=r(67294),g=r(85893),S=P.Z.Step,R=function(A){var m=A.progress,f=A.current,W=f===void 0?0:f,h=(0,y.useState)([]),a=(0,z.Z)(h,2),c=a[0],Z=a[1];return(0,y.useEffect)(function(){Z(m)},[m]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(P.Z,{progressDot:!0,current:W,children:c.map(function(p,L){var U=p.title,T=p.description;return(0,g.jsx)(S,{title:U,description:T},L)})})})};I.Z=R},40479:function(J,I,r){"use strict";r.r(I),r.d(I,{default:function(){return ee}});var z=r(13062),K=r(71230),P=r(58024),y=r(91894),g=r(49111),S=r(19650),R=r(57663),D=r(71577),A=r(89032),m=r(15746),f=r(11849),W=r(34792),h=r(48086),a=r(39428),c=r(3182),Z=r(2824),p=r(67294),L=r(65737),U=r(98858),T=r(4914),ce=r(71153),N=r(60331),t=r(85893),X=function(v){var E=v.infoData,C=v.headPicture,j=v.driverData,O=v.inTransit,x=v.onEditClick,w=v.onDeleteClick;return(0,t.jsxs)(y.Z,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,t.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",fontFamily:"sans-serif"},children:"\u53F8\u673A\u8BE6\u60C5"}),(0,t.jsx)("div",{children:(0,t.jsxs)(S.Z,{children:[O?(0,t.jsx)(N.Z,{color:"blue",children:"\u8FD0\u8F93\u4E2D"}):(0,t.jsx)(N.Z,{color:"red",children:"\u7A7A\u95F2\u4E2D"}),(0,t.jsx)(D.Z,{type:"primary",onClick:function(){return x()},children:"\u7F16\u8F91"}),(0,t.jsx)(D.Z,{type:"danger",onClick:function(){return w()},children:"\u5220\u9664"})]})})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)("div",{style:{width:"65px",height:"65px",overflow:"hidden",borderRadius:"50%"},children:(0,t.jsx)("img",{style:{width:"65px",height:"65px"},src:C,alt:"\u5934\u50CF"})}),(0,t.jsx)("div",{style:{width:"calc(600px - 80px)",marginLeft:"15px"},children:(0,t.jsx)(T.Z,{column:2,children:E.map(function(u,e){return(0,t.jsx)(T.Z.Item,{label:u.title,children:u.data},e)})})})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:j.map(function(u,e){return e===j.length-1?(0,t.jsxs)("div",{style:{textAlign:"right",margin:"0 0 0 30px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px"},children:u.title}),(0,t.jsx)("div",{style:{fontSize:"30px"},children:u.data})]},e):(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{textAlign:"right",margin:"0 34px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px"},children:u.title}),(0,t.jsx)("div",{style:{fontSize:"30px"},children:u.data})]}),(0,t.jsx)("div",{style:{width:"1px",height:"80%",backgroundColor:"#E9E9E9"}})]},e)})})]})]})},Y=X,b=r(20415),M=r(90723),k=r(65523),q=r(99747),_=function(v){var E,C,j,O=v.location,x=O.query.driverId,w=(0,p.useState)(void 0),u=(0,Z.Z)(w,2),e=u[0],re=u[1],ne=(0,p.useState)(!1),V=(0,Z.Z)(ne,2),ie=V[0],B=V[1],se=(0,p.useState)(!1),G=(0,Z.Z)(se,2),ae=G[0],$=G[1];(0,p.useEffect)((0,c.Z)((0,a.Z)().mark(function i(){return(0,a.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q(x);case 2:case"end":return n.stop()}},i)})),[]);var Q=function(){var i=(0,c.Z)((0,a.Z)().mark(function l(n){var s,o;return(0,a.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,M.zW)({driverId:n});case 2:s=F.sent,console.log(s),s.success?(o=s.result,re(o)):h.default.error(s.description);case 5:case"end":return F.stop()}},l)}));return function(n){return i.apply(this,arguments)}}(),le=[{title:"\u59D3\u540D",data:e==null?void 0:e.driverName},{title:"\u8D26\u53F7",data:e==null?void 0:e.account},{title:"\u8054\u7CFB\u65B9\u5F0F",data:e==null?void 0:e.mobile},{title:"\u521B\u5EFA\u65F6\u95F4",data:e==null?void 0:e.creatTime}],de=[{title:"\u7ED1\u5B9A\u8F66\u8F86",data:e==null?void 0:e.boundCarNum},{title:"\u62C9\u8D27\u6B21\u6570",data:e==null?void 0:e.workNum},{title:"\u8FDD\u7EA6\u6570",data:e==null?void 0:e.noContractNum},{title:"\u884C\u9A76\u516C\u91CC\u6570",data:e==null?void 0:e.milesTravelled}],H={current:e==null||(E=e.nowTranData)===null||E===void 0?void 0:E.tranStatus,data:[{title:"\u9A76\u5411\u5356\u65B9",description:""},{title:"\u6B63\u5728\u88C5\u8D27",description:""},{title:"\u9A76\u5411\u4E70\u65B9",description:""},{title:"\u6B63\u5728\u5378\u8D27",description:""},{title:"\u5B8C\u6210\u8FD0\u8F93",description:""}]},ue=function(){var i=(0,c.Z)((0,a.Z)().mark(function l(n){var s;return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return $(!0),d.next=3,(0,M.VQ)((0,f.Z)({},n));case 3:if(s=d.sent,s.code!==200){d.next=12;break}return $(!1),B(!1),d.next=9,Q(x);case 9:h.default.success(s.msg),d.next=15;break;case 12:$(!1),B(!1),h.default.error(s.msg);case 15:case"end":return d.stop()}},l)}));return function(n){return i.apply(this,arguments)}}(),oe=function(){var i=(0,c.Z)((0,a.Z)().mark(function l(n){var s;return(0,a.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,M.BD)({driverId:x});case 2:s=d.sent,s.code===200?h.default.success(s.msg):h.default.error(s.msg);case 4:case"end":return d.stop()}},l)}));return function(n){return i.apply(this,arguments)}}();return(0,t.jsxs)(K.Z,{gutter:[20,20],children:[(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(Y,{infoData:le,headPicture:e==null?void 0:e.headPictureUrl,driverData:de,inTransit:e==null?void 0:e.inTransit,onEditClick:function(){return B(!0)},onDeleteClick:(0,c.Z)((0,a.Z)().mark(function i(){return(0,a.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",oe({driverId:x}));case 1:case"end":return n.stop()}},i)}))})}),e!=null&&e.inTransit?(0,t.jsx)(m.Z,{span:24,children:(0,t.jsxs)(y.Z,{children:[(0,t.jsx)("div",{style:{marginBottom:"10px"},children:(0,t.jsx)("span",{style:{fontSize:"18px",fontFamily:"sans-serif",fontWeight:"bold"},children:"\u8F66\u8F86\u73B0\u8FDB\u884C\u4E2D\u8FD0\u8F93\u6570\u636E"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"35px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{marginRight:"50px"},children:[(0,t.jsx)("span",{children:"\u5173\u8054\u8F66\u8F86\uFF1A"}),(0,t.jsx)("span",{children:(0,t.jsx)("a",{children:e==null||(C=e.nowTranData)===null||C===void 0?void 0:C.carLicense})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"\u5173\u8054\u65F6\u95F4\uFF1A"}),(0,t.jsx)("span",{children:e==null||(j=e.nowTranData)===null||j===void 0?void 0:j.startTime})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(S.Z,{children:[(0,t.jsx)(D.Z,{type:"primary",children:"\u67E5\u770B\u8F66\u8F86\u8BE6\u60C5"}),(0,t.jsx)(D.Z,{type:"primary",children:"\u67E5\u770B\u8FD0\u6B21\u8BE6\u60C5"})]})})]}),(0,t.jsx)(b.Z,{progress:H.data,current:H.current})]})]})}):"",(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(L.Z,{title:"\u5386\u53F2\u8FD0\u8F93\u6570\u636E",rowKey:function(l){return l.tranId},columns:k.kz,dataSource:e==null?void 0:e.historyList.map(function(i){return(0,f.Z)((0,f.Z)({},i),{},{operate:"\u67E5\u770B\u8BE6\u60C5"})}),isShowTitleButton:!1})}),(0,t.jsx)(q.Z,{visible:ie,title:"\u7F16\u8F91\u53F8\u673A",loading:ae,onOK:function(){var i=(0,c.Z)((0,a.Z)().mark(function l(n){return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",ue((0,f.Z)({driverId:x},n)));case 1:case"end":return o.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),onCancel:function(){return B(!1)}})]})},ee=_}}]);
